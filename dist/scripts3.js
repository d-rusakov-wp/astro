import"./scripts4.js";let p=null,L=null;const He=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];function Ke(i,d=!0){L!==null&&ve(!1),i&&(L=document.activeElement,p=i.querySelectorAll(He.join(",")),p.length!==0&&setTimeout(()=>{L?.blur(),d&&p[0].focus(),document.addEventListener("keydown",ge)},100))}function ve(i=!0){i&&L&&L.focus(),L=null,p=null,document.removeEventListener("keydown",ge)}function ge(i){if(i.key==="Tab"){if(i.shiftKey&&document.activeElement===p[0]){i.preventDefault(),p[p.length-1].focus();return}!i.shiftKey&&document.activeElement===p[p.length-1]&&(i.preventDefault(),p[0].focus())}}class xe{#e=[];constructor(){this.#e=[]}subscribe(d){this.#e.push(d)}unsubscribe(d){this.#e=this.#e.filter(f=>f!==d)}fire(d){this.#e.forEach(f=>f(d))}}const Ue=new xe,qe=new ResizeObserver(()=>setTimeout(()=>Ue.fire("resize"),10));qe.observe(document.documentElement);const fe={default:{preventDefault:!0,stopPlay:!0,lockFocus:!0,startFocus:!0,focusBack:!0,resetScrollPos:!1,eventTimeout:400,openCallback:null,closeCallback:null},sample:{preventDefault:!1,openCallback:()=>console.log("Я отработала при открытии модального окна"),closeCallback:()=>console.log("Я отработала при закрытии модального окна")}};var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={exports:{}};(function(i,d){(function(s,n){i.exports=n()})(Ie,function(){return function(f){var s={};function n(c){if(s[c])return s[c].exports;var u=s[c]={i:c,l:!1,exports:{}};return f[c].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=f,n.c=s,n.d=function(c,u,S){n.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:S})},n.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},n.t=function(c,u){if(u&1&&(c=n(c)),u&8||u&4&&typeof c=="object"&&c&&c.__esModule)return c;var S=Object.create(null);if(n.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:c}),u&2&&typeof c!="string")for(var m in c)n.d(S,m,function(v){return c[v]}.bind(null,m));return S},n.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return n.d(u,"a",u),u},n.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},n.p="",n(n.s=0)}([function(f,s,n){n.r(s);var c=function(e){return Array.isArray(e)?e:[e]},u=function(e){return e instanceof Node},S=function(e){return e instanceof NodeList},m=function(e,l){if(e&&l){e=S(e)?e:[e];for(var o=0;o<e.length&&l(e[o],o,e.length)!==!0;o++);}},v=function(e){return console.error("[scroll-lock] ".concat(e))},w=function(e){if(Array.isArray(e)){var l=e.join(", ");return l}},N=function(e){var l=[];return m(e,function(o){return l.push(o)}),l},R=function(e,l){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:document;if(o&&N(r.querySelectorAll(l)).indexOf(e)!==-1)return e;for(;(e=e.parentElement)&&N(r.querySelectorAll(l)).indexOf(e)===-1;);return e},H=function(e,l){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,r=N(o.querySelectorAll(l)).indexOf(e)!==-1;return r},O=function(e){if(e){var l=getComputedStyle(e),o=l.overflow==="hidden";return o}},K=function(e){if(e){if(O(e))return!0;var l=e.scrollTop;return l<=0}},x=function(e){if(e){if(O(e))return!0;var l=e.scrollTop,o=e.scrollHeight,r=l+e.offsetHeight;return r>=o}},U=function(e){if(e){if(O(e))return!0;var l=e.scrollLeft;return l<=0}},q=function(e){if(e){if(O(e))return!0;var l=e.scrollLeft,o=e.scrollWidth,r=l+e.offsetWidth;return r>=o}},Te=function(e){var l='textarea, [contenteditable="true"]';return H(e,l)},Le=function(e){var l='input[type="range"]';return H(e,l)};n.d(s,"disablePageScroll",function(){return P}),n.d(s,"enablePageScroll",function(){return M}),n.d(s,"getScrollState",function(){return k}),n.d(s,"clearQueueScrollLocks",function(){return Q}),n.d(s,"getTargetScrollBarWidth",function(){return A}),n.d(s,"getCurrentTargetScrollBarWidth",function(){return W}),n.d(s,"getPageScrollBarWidth",function(){return z}),n.d(s,"getCurrentPageScrollBarWidth",function(){return V}),n.d(s,"addScrollableTarget",function(){return C}),n.d(s,"removeScrollableTarget",function(){return J}),n.d(s,"addScrollableSelector",function(){return ee}),n.d(s,"removeScrollableSelector",function(){return le}),n.d(s,"addLockableTarget",function(){return te}),n.d(s,"addLockableSelector",function(){return oe}),n.d(s,"setFillGapMethod",function(){return re}),n.d(s,"addFillGapTarget",function(){return X}),n.d(s,"removeFillGapTarget",function(){return ne}),n.d(s,"addFillGapSelector",function(){return B}),n.d(s,"removeFillGapSelector",function(){return ae}),n.d(s,"refillGaps",function(){return Y});function Ee(t){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?arguments[e]:{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),o.forEach(function(r){Ae(t,r,l[r])})}return t}function Ae(t,e,l){return e in t?Object.defineProperty(t,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[e]=l,t}var I=["padding","margin","width","max-width","none"],F=3,a={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:I[0],startTouchY:0,startTouchX:0},P=function(e){a.queue<=0&&(a.scroll=!1,Z(),ce()),C(e),a.queue++},M=function(e){a.queue>0&&a.queue--,a.queue<=0&&(a.scroll=!0,Ge(),Me()),J(e)},k=function(){return a.scroll},Q=function(){a.queue=0},A=function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u(e)){var o=e.style.overflowY;l?k()||(e.style.overflowY=e.getAttribute("data-scroll-lock-saved-overflow-y-property")):e.style.overflowY="scroll";var r=W(e);return e.style.overflowY=o,r}else return 0},W=function(e){if(u(e))if(e===document.body){var l=document.documentElement.clientWidth,o=window.innerWidth,r=o-l;return r}else{var b=e.style.borderLeftWidth,T=e.style.borderRightWidth;e.style.borderLeftWidth="0px",e.style.borderRightWidth="0px";var y=e.offsetWidth-e.clientWidth;return e.style.borderLeftWidth=b,e.style.borderRightWidth=T,y}else return 0},z=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A(document.body,e)},V=function(){return W(document.body)},C=function(e){if(e){var l=c(e);l.map(function(o){m(o,function(r){u(r)?r.setAttribute("data-scroll-lock-scrollable",""):v('"'.concat(r,'" is not a Element.'))})})}},J=function(e){if(e){var l=c(e);l.map(function(o){m(o,function(r){u(r)?r.removeAttribute("data-scroll-lock-scrollable"):v('"'.concat(r,'" is not a Element.'))})})}},ee=function(e){if(e){var l=c(e);l.map(function(o){a.scrollableSelectors.push(o)})}},le=function(e){if(e){var l=c(e);l.map(function(o){a.scrollableSelectors=a.scrollableSelectors.filter(function(r){return r!==o})})}},te=function(e){if(e){var l=c(e);l.map(function(o){m(o,function(r){u(r)?r.setAttribute("data-scroll-lock-lockable",""):v('"'.concat(r,'" is not a Element.'))})}),k()||Z()}},oe=function(e){if(e){var l=c(e);l.map(function(o){a.lockableSelectors.push(o)}),k()||Z(),B(e)}},re=function(e){if(e)if(I.indexOf(e)!==-1)a.fillGapMethod=e,Y();else{var l=I.join(", ");v('"'.concat(e,`" method is not available!
Available fill gap methods: `).concat(l,"."))}},X=function(e){if(e){var l=c(e);l.map(function(o){m(o,function(r){u(r)?(r.setAttribute("data-scroll-lock-fill-gap",""),a.scroll||se(r)):v('"'.concat(r,'" is not a Element.'))})})}},ne=function(e){if(e){var l=c(e);l.map(function(o){m(o,function(r){u(r)?(r.removeAttribute("data-scroll-lock-fill-gap"),a.scroll||$(r)):v('"'.concat(r,'" is not a Element.'))})})}},B=function(e){if(e){var l=c(e);l.map(function(o){a.fillGapSelectors.indexOf(o)===-1&&(a.fillGapSelectors.push(o),a.scroll||ie(o))})}},ae=function(e){if(e){var l=c(e);l.map(function(o){a.fillGapSelectors=a.fillGapSelectors.filter(function(r){return r!==o}),a.scroll||ue(o)})}},Y=function(){a.scroll||ce()},Z=function(){var e=w(a.lockableSelectors);we(e)},Ge=function(){var e=w(a.lockableSelectors);Oe(e)},we=function(e){var l=document.querySelectorAll(e);m(l,function(o){Fe(o)})},Oe=function(e){var l=document.querySelectorAll(e);m(l,function(o){Pe(o)})},Fe=function(e){if(u(e)&&e.getAttribute("data-scroll-lock-locked")!=="true"){var l=window.getComputedStyle(e);e.setAttribute("data-scroll-lock-saved-overflow-y-property",l.overflowY),e.setAttribute("data-scroll-lock-saved-inline-overflow-property",e.style.overflow),e.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",e.style.overflowY),e.style.overflow="hidden",e.setAttribute("data-scroll-lock-locked","true")}},Pe=function(e){u(e)&&e.getAttribute("data-scroll-lock-locked")==="true"&&(e.style.overflow=e.getAttribute("data-scroll-lock-saved-inline-overflow-property"),e.style.overflowY=e.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-saved-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-locked"))},ce=function(){a.fillGapSelectors.map(function(e){ie(e)})},Me=function(){a.fillGapSelectors.map(function(e){ue(e)})},ie=function(e){var l=document.querySelectorAll(e),o=a.lockableSelectors.indexOf(e)!==-1;m(l,function(r){se(r,o)})},se=function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u(e)){var o;if(e.getAttribute("data-scroll-lock-lockable")===""||l)o=A(e,!0);else{var r=R(e,w(a.lockableSelectors));o=A(r,!0)}e.getAttribute("data-scroll-lock-filled-gap")==="true"&&$(e);var b=window.getComputedStyle(e);if(e.setAttribute("data-scroll-lock-filled-gap","true"),e.setAttribute("data-scroll-lock-current-fill-gap-method",a.fillGapMethod),a.fillGapMethod==="margin"){var T=parseFloat(b.marginRight);e.style.marginRight="".concat(T+o,"px")}else if(a.fillGapMethod==="width")e.style.width="calc(100% - ".concat(o,"px)");else if(a.fillGapMethod==="max-width")e.style.maxWidth="calc(100% - ".concat(o,"px)");else if(a.fillGapMethod==="padding"){var y=parseFloat(b.paddingRight);e.style.paddingRight="".concat(y+o,"px")}}},ue=function(e){var l=document.querySelectorAll(e);m(l,function(o){$(o)})},$=function(e){if(u(e)&&e.getAttribute("data-scroll-lock-filled-gap")==="true"){var l=e.getAttribute("data-scroll-lock-current-fill-gap-method");e.removeAttribute("data-scroll-lock-filled-gap"),e.removeAttribute("data-scroll-lock-current-fill-gap-method"),l==="margin"?e.style.marginRight="":l==="width"?e.style.width="":l==="max-width"?e.style.maxWidth="":l==="padding"&&(e.style.paddingRight="")}},We=function(e){Y()},Ce=function(e){a.scroll||(a.startTouchY=e.touches[0].clientY,a.startTouchX=e.touches[0].clientX)},Be=function(e){if(!a.scroll){var l=a.startTouchY,o=a.startTouchX,r=e.touches[0].clientY,b=e.touches[0].clientX;if(e.touches.length<2){var T=w(a.scrollableSelectors),y={up:l<r,down:l>r,left:o<b,right:o>b},j={up:l+F<r,down:l-F>r,left:o+F<b,right:o-F>b},Ne=function de(g){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(g){var _=R(g,T,!1);if(Le(g))return!1;if(Re||Te(g)&&R(g,T)||H(g,T)){var D=!1;U(g)&&q(g)?(y.up&&K(g)||y.down&&x(g))&&(D=!0):K(g)&&x(g)?(y.left&&U(g)||y.right&&q(g))&&(D=!0):(j.up&&K(g)||j.down&&x(g)||j.left&&U(g)||j.right&&q(g))&&(D=!0),D&&(_?de(_,!0):e.cancelable&&e.preventDefault())}else de(_)}else e.cancelable&&e.preventDefault()};Ne(e.target)}}},Ye=function(e){a.scroll||(a.startTouchY=0,a.startTouchX=0)};typeof window<"u"&&window.addEventListener("resize",We),typeof document<"u"&&(document.addEventListener("touchstart",Ce),document.addEventListener("touchmove",Be,{passive:!1}),document.addEventListener("touchend",Ye));var je={hide:function(e){v(`"hide" is deprecated! Use "disablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget`),P(e)},show:function(e){v(`"show" is deprecated! Use "enablePageScroll" instead. 
 https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget`),M(e)},toggle:function(e){v('"toggle" is deprecated! Do not use it.'),k()?P():M(e)},getState:function(){return v(`"getState" is deprecated! Use "getScrollState" instead. 
 https://github.com/FL3NKEY/scroll-lock#getscrollstate`),k()},getWidth:function(){return v(`"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth`),z()},getCurrentWidth:function(){return v(`"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. 
 https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth`),V()},setScrollableTargets:function(e){v(`"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget`),C(e)},setFillGapSelectors:function(e){v(`"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector`),B(e)},setFillGapTargets:function(e){v(`"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. 
 https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget`),X(e)},clearQueue:function(){v(`"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. 
 https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks`),Q()}},De=Ee({disablePageScroll:P,enablePageScroll:M,getScrollState:k,clearQueueScrollLocks:Q,getTargetScrollBarWidth:A,getCurrentTargetScrollBarWidth:W,getPageScrollBarWidth:z,getCurrentPageScrollBarWidth:V,addScrollableSelector:ee,removeScrollableSelector:le,addScrollableTarget:C,removeScrollableTarget:J,addLockableSelector:oe,addLockableTarget:te,addFillGapSelector:B,removeFillGapSelector:ae,addFillGapTarget:X,removeFillGapTarget:ne,setFillGapMethod:re,refillGaps:Y,_state:a},je);s.default=De}]).default})})(me);var he=me.exports;let h={},E=null;const G=[];function Qe(){Ve(),ze()}function ze(){document.querySelectorAll("[data-open-modal]").forEach(d=>{d.addEventListener("click",f=>{const n=f.target.closest("[data-open-modal]").dataset.openModal;n&&be(n)})})}function Ve(){const i=document.querySelectorAll(".modal");i.length&&i.forEach(d=>{setTimeout(()=>{d.classList.remove("modal--preload")},100)})}function Je(i){i.addEventListener("click",Se),window.addEventListener("keydown",pe)}function Xe(i){i.removeEventListener("click",Se),window.removeEventListener("keydown",pe)}function Se(i){i.target.closest("[data-close-modal]")&&ye(E)}function pe(i){(i.key==="Escape"||i.key==="Esc")&&(i.preventDefault(),ye(E))}function Ze(i){h.stopPlay&&(i.querySelectorAll("video, audio").forEach(d=>d.pause()),i.querySelectorAll("iframe").forEach(d=>{d.contentWindow.postMessage('{"event": "command", "func": "pauseVideo", "args": ""}',"*")}))}function $e(i){i.querySelectorAll("[data-auto-play]").forEach(f=>{f.querySelector("iframe")?.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"),f.querySelector("video, audio")?.play()})}function be(i,d={}){const f=document.querySelector(`[data-modal="${i}"]`);if(!f||f.classList.contains("is-active"))return;const s=document.querySelector(".modal.is-active");s&&ke(s.dataset.modal,!1,!1),E=i,h={...fe.default,...fe[i],...d},f.classList.add("is-active"),he.disablePageScroll(f),h.openCallback?.(),h.lockFocus&&Ke(f,h.startFocus),G.push({modalName:i,settings:h}),h.resetScrollPos&&window.scrollTo(0,0),setTimeout(()=>{Je(f),$e(f)},h.eventTimeout)}function ye(i=E){ke(i)}function ke(i=E,d=!0,f=!0){const s=document.querySelector(`[data-modal="${i}"]`);if(!(!s||!s.classList.contains("is-active"))&&(s.classList.remove("is-active"),Xe(s),Ze(s),h.lockFocus&&ve(),h.closeCallback?.(),setTimeout(()=>{he.enablePageScroll(s)},h.eventTimeout),E=null,h={},f))if(s.querySelector('[data-close-modal="back"]')){if(G.pop(),G.length>0){const{modalName:c,settings:u}=G.pop();be(c,u)}}else d&&(G.length=0)}window.addEventListener("DOMContentLoaded",()=>{Qe()});
